# Refractor API Environment Configuration
# Copy this file to .env and configure for your environment
#
# Environment validation runs at startup:
# - In production (NODE_ENV=production): Missing required vars will prevent startup
# - In development: Warnings are logged but startup continues

# =============================================================================
# DATABASE CONFIGURATION (Required in production)
# =============================================================================

# MongoDB connection URL
# REQUIRED in production - application will not start without this
# MONGODB_URL=mongodb://localhost:27017/refractor

# Storage type: mongoose, mongodb, mongodb+firestore, fs, inmemory
# STORAGE_TYPE=mongoose

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Horizon server URLs (optional - defaults to SDF servers)
# HORIZON_PUBLIC_URL=https://horizon.stellar.org
# HORIZON_TESTNET_URL=https://horizon-testnet.stellar.org

# Fee multiplier for transaction fees (default: 1)
# FEE_MULTIPLIER=1

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Environment mode: development, production
# NODE_ENV=production

# API server port (default: 4010)
# PORT=4010

# Development mode (enables request logging)
# MODE=development

# Maximum request payload size (default: 1mb)
# Supports values like: 100kb, 1mb, 10mb
# MAX_PAYLOAD_SIZE=1mb

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: error, warn, info, http, debug (default: info, debug in development)
# LOG_LEVEL=info

# Log file path (optional, only used in production)
# LOG_FILE=/var/log/refractor/api.log

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Admin API key for protected monitoring endpoints
# REQUIRED for admin endpoints to work (/monitoring/queue/*, /monitoring/cleanup/*)
# Generate a secure random key: openssl rand -hex 32
# ADMIN_API_KEY=your-secure-api-key-here

# Example usage:
# curl -X POST http://localhost:4010/monitoring/queue/pause \
#   -H "X-Admin-API-Key: your-secure-api-key-here"

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS Blacklist: Comma-separated list of origins to block
# All other origins are allowed by default
# Supports exact origins and wildcard patterns (*.example.com)
# CORS_BLACKLIST=https://evil.com,https://malicious.org,*.spam-domain.com

# Examples:
# - Block specific origin: https://evil.com
# - Block all subdomains: *.malicious.org (blocks sub.malicious.org, etc.)
# - Multiple origins: https://evil.com,https://bad.org,*.spam.net

# =============================================================================
# REQUEST TRACING
# =============================================================================

# Request ID Header: X-Request-ID
# - Automatically generated for each request (format: timestamp-randomhex)
# - If client provides X-Request-ID header, it will be used instead
# - Returned in response headers for client correlation
# - Included in all log entries for request tracing
#
# Example client usage:
# curl -H "X-Request-ID: my-trace-id-123" http://localhost:4010/
#
# Log output includes requestId:
# {"level":"info","message":"Request completed","requestId":"1703683200000-a1b2c3d4","method":"GET","path":"/","statusCode":200}
